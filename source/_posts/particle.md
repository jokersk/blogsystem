---
title: particle
date: 2017-05-26 15:35:44
tags:
---

### 如何將粒子做到波浪形運動？ 
首先粒子運動有兩個方向，X軸方向，同Y軸方向。
X軸方向只需要簡單的遞增 例如：
	
	x+=0.1

Y軸我們希望他圍繞坐標軸X做上下的週期性運動，有兩個方法
##### 方法1 

	y = Math.sin(tick * Math.PI / 180)
_這裡tick * Math.PI / 180是因為javascript裡面sin用弧度做單位，要轉換成角度_

如果tick遞增 tick++ ， 那麼Y就會呈現由 1 到 -1 得週期性變化 
我們再在後面乘以一個數就可以改變波幅
	
	y = Math.sin(tick * Math.PI / 180) * 100 

以上系數學的方法，下面介紹更接近實際的類似物理上的方法

##### 方法2

我們在終點施加一個力，離終點越遠，力就越大。那麼就算粒子到達終點也不會立即停下來，它還會根據慣性跑過終點，
這時候，終點又會有一個力將粒子拉回來。
看文字表述有點複雜，直接看代碼會更簡單
	
	y += (destY - y) / 100
	//destY 是終點位置

上述兩個方法都可以讓粒子繞X軸做週期性動作。不過個人認為方法2比較好，原因稍後會知道。


現在粒子就會呈波浪形運動,效果[看這裡](https://codepen.io/jokersk/pen/EmJNEE?editors=1011)

大家應該看到一小堆粒子在做上下的波浪形運動，不過全部粒子都統一方向統一波幅顯得很刻板。


### 如何讓粒子生動些？ 

首先，我們要給每一粒粒子都加一個不同的延遲 delay ， 這樣粒子就不會一堆一堆移動。
我們給每個粒子加上唔同delay，如果tick 大過它的delay 才開始行動

這裡的例子系用方法2 [點這裡](https://codepen.io/jokersk/pen/ybrMvB?editors=1011) 


### 如何讓粒子更生動些？ 
其實，現在的粒子運動得已經很生動，不過都系太有規律，我們想粒子規律得來又唔太規律，可以點做？ 
秘密就係每個粒子之間如果加上一個互相的拉力，那麼粒子的運動就更加正。
[這裡](https://codepen.io/jokersk/pen/jmRBoO?editors=1010)是最終形態，調整了一些數據和加多了粒子 

	